# Example secrets structure for sops-nix
# DO NOT commit actual secrets - this is just a template
#
# To create your encrypted secrets.yaml:
# 1. Copy this file: cp secrets.yaml.example secrets.yaml
# 2. Edit with sops: sops secrets.yaml
# 3. Replace the placeholders with your actual values
#
# The file will be encrypted automatically when you save and exit

# GitHub App ID (get from GitHub App settings page)
github_app_id: "123456"

# GitHub App private key (PEM format)
# Get this from: GitHub > Settings > Developer settings > GitHub Apps > Your App > Private keys
github_app_private_key: |
  -----BEGIN RSA PRIVATE KEY-----
  YOUR_PRIVATE_KEY_CONTENT_HERE
  -----END RSA PRIVATE KEY-----

# Debug SSH key for VM access (optional, used by dev profile)
# This public key will be injected into Firecracker VMs for debugging access
# Generate with: ssh-keygen -t ed25519 -C "fireactions-debug"
debug_ssh_key: "ssh-ed25519 AAAA... your-public-key-here"

# Gitea API token for fireteact (Gitea Actions runner orchestrator)
# Get this from: Gitea > User Settings > Applications > Generate New Token
#
# SECURITY: Choose the most restrictive scope that meets your needs!
#
# Recommended scopes (in order of preference):
#   1. "repo" scope (most secure) - write:repository
#      - Runners only for a single repository
#      - Minimal blast radius if token is compromised
#
#   2. "org" scope (recommended default) - write:organization
#      - Runners for all repos in one organization
#      - Good balance of security and flexibility
#
#   3. "instance" scope (AVOID in production) - admin access required!
#      - Global runners for entire Gitea instance
#      - HIGH RISK: Token compromise = full instance access
#
# The token is used to dynamically request per-runner registration tokens
gitea_api_token: "your-gitea-api-token-here"

# Gitea instance URL
# The URL of your Gitea instance (e.g., https://gitea.example.com)
gitea_instance_url: "https://gitea.example.com"

# Gitea runner owner (organization name)
# Required for "org" and "repo" scope
# For "org" scope: the organization that will own the runners
# For "repo" scope: the owner of the repository
gitea_runner_owner: "my-organization"

# Gitea runner repository (optional, for "repo" scope only)
# Required when runnerScope is "repo"
# The repository where runners will be registered
gitea_runner_repo: "my-repo"

# =============================================================================
# GitLab CI - fireglab (GitLab runner orchestrator)
# =============================================================================

# GitLab Personal Access Token for fireglab
# Get this from: GitLab > User Settings > Access Tokens > Add new token
#
# REQUIRED SCOPE: create_runner
#
# Runner types and required permissions:
#   1. "project_type" - Project runners (most restrictive)
#      - Requires: Maintainer role on the project
#      - Runners only for a single project
#      - Minimal blast radius if token is compromised
#
#   2. "group_type" (recommended default) - Group runners
#      - Requires: Owner role on the group
#      - Runners for all projects in one group
#      - Good balance of security and flexibility
#
#   3. "instance_type" (AVOID in production) - Instance-wide runners
#      - Requires: Administrator access
#      - HIGH RISK: Token compromise = instance-wide access
#
# The token is used to dynamically create runners via POST /api/v4/user/runners
# Each runner gets a unique glrt-* authentication token
gitlab_access_token: "glpat-xxxxxxxxxxxxxxxxxxxx"

# GitLab instance URL
# The URL of your GitLab instance (e.g., https://gitlab.example.com)
gitlab_instance_url: "https://gitlab.example.com"

# GitLab group ID (required for "group_type" runners)
# Find this in: Group > Settings > General > Group ID
# Or via API: curl "https://gitlab.example.com/api/v4/groups?search=my-group"
gitlab_group_id: "123"

# GitLab project ID (required for "project_type" runners)
# Find this in: Project > Settings > General > Project ID
# Or via API: curl "https://gitlab.example.com/api/v4/projects?search=my-project"
gitlab_project_id: "456"
